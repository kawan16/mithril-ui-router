/*! 2015-07-12 */

var mx_factory=function(a){"use strict";function b(){var a="hash"===k.route.mode?"onhashchange":"onpopstate";window[a]=function(){var a="hash"===k.route.mode?window.location[k.route.mode].substr(1):window.location[k.route.mode];if(a!==h){var b=c(a);k.route.go(b.state,b.parameters)}},window[a]()}function c(a){if(!a)return{state:e,parameters:{}};for(var b in j)if(j.hasOwnProperty(b)){var c=b.split("."),f="",g="";c.forEach(function(a){f=f?f+"."+a:a;var b=j[f].url;g=b?g+b:g});var h=d(g,a);if(h)return{state:f,parameters:h}}return{state:e,parameters:{}}}function d(a,b){var c=a.split("/"),d=b.split("/"),e={};if(c.length!==d.length)return!1;for(var f=0;f<c.length;f++)if(c[f]!==d[f]){if(":"!==c[f][0])return!1;e[c[f].substr(1)]=d[f]}return e}var e,f,g,h,i,j,k={},l={string:function(a){if("string"!=typeof a)throw new TypeError("a string is expected, but "+a+" ["+typeof a+"] given");return a},plainObject:function(a){if("object"!=typeof a)throw new TypeError("an object is expected, but "+a+"  ["+typeof a+"] given");return a}};k.route=function(a,c,d){i=l.plainObject(a),e=l.string(c),j=l.plainObject(d),b()},k.route.go=function(b,c){if(l.string(b),f){var d=j[f].onExit;d&&d()}var e=b.split("."),i="",n=document,o="";g=c,e.forEach(function(c){i=i?i+"."+c:c;var d=j[i],e=m(d.module),g=n.querySelector(d.place),h=d.places,l=d.url,p=d.onEnter;if(n=g||n,o=l?o+l:o,!f||-1===f.indexOf(i)||i===b){if(g)k.route.$install(g,e),i!==b&&a.redraw(!0);else if(h){for(var q in h)h.hasOwnProperty(q)&&(e=m(h[q]),g=n.querySelector(q),k.route.$install(g,e));i!==b&&a.redraw(!0)}p&&p()}}),f=b;for(var p in c)c.hasOwnProperty(p)&&(o=o.replace(":"+p,c[p]));h=window.location[k.route.mode]=o},k.route.current=function(){return f},k.route.param=function(a){return l.string(a),g=g||{},g[a]},k.route.mode="hash",k.route.$install=function(b,c){a.mount(b,c)};var m=function(a){l.string(a);var b=i,c=a.split(".");return c.forEach(function(a){b=b[a]}),b};return k};if("undefined"!=typeof window&&m&&(window.mx=mx_factory(m)),"undefined"!=typeof module&&null!==module&&module.exports){var m=require("mithril");module.exports=mx_factory(m)}
//# sourceMappingURL=mithril-ui-router.js.map